{"remainingRequest":"C:\\backup\\RNDSDemo\\node_modules\\thread-loader\\dist\\cjs.js??ref--16-1!C:\\backup\\RNDSDemo\\node_modules\\babel-loader\\lib\\index.js??ref--16-2!C:\\backup\\RNDSDemo\\node_modules\\react-native-web\\dist\\cjs\\exports\\StyleSheet\\createStyleResolver.js","dependencies":[{"path":"C:\\backup\\RNDSDemo\\node_modules\\react-native-web\\dist\\cjs\\exports\\StyleSheet\\createStyleResolver.js","mtime":1572943696569},{"path":"C:\\backup\\RNDSDemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575382926455},{"path":"C:\\backup\\RNDSDemo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1575382927776},{"path":"C:\\backup\\RNDSDemo\\node_modules\\babel-loader\\lib\\index.js","mtime":1574752627091}],"contextDependencies":[],"result":["\"use strict\";var _interopRequireDefault2=require(\"@babel/runtime/helpers/interopRequireDefault\");var _extends2=_interopRequireDefault2(require(\"@babel/runtime/helpers/extends\"));exports.__esModule=true;exports.default=createStyleResolver;var _ExecutionEnvironment=require(\"fbjs/lib/ExecutionEnvironment\");var _createCSSStyleSheet=_interopRequireDefault(require(\"./createCSSStyleSheet\"));var _createCompileableStyle=_interopRequireDefault(require(\"./createCompileableStyle\"));var _createOrderedCSSStyleSheet=_interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));var _flattenArray=_interopRequireDefault(require(\"../../modules/flattenArray\"));var _flattenStyle=_interopRequireDefault(require(\"./flattenStyle\"));var _I18nManager=_interopRequireDefault(require(\"../I18nManager\"));var _i18nStyle=_interopRequireDefault(require(\"./i18nStyle\"));var _compile=require(\"./compile\");var _initialRules=_interopRequireDefault(require(\"./initialRules\"));var _modality=_interopRequireDefault(require(\"./modality\"));var _constants=require(\"./constants\");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==='function'){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}var emptyObject={};function createStyleResolver(){var inserted,sheet,lookup;var resolved={css:{},ltr:{},rtl:{},rtlNoSwap:{}};var init=function init(){inserted={css:{},ltr:{},rtl:{},rtlNoSwap:{}};sheet=(0,_createOrderedCSSStyleSheet.default)((0,_createCSSStyleSheet.default)(_constants.STYLE_ELEMENT_ID));lookup={byClassName:{},byProp:{}};(0,_modality.default)(function(rule){return sheet.insert(rule,_constants.STYLE_GROUPS.modality);});_initialRules.default.forEach(function(rule){sheet.insert(rule,_constants.STYLE_GROUPS.reset);});};init();function addToLookup(className,prop,value){if(!lookup.byProp[prop]){lookup.byProp[prop]={};}lookup.byProp[prop][value]=className;lookup.byClassName[className]={prop:prop,value:value};}function getClassName(prop,value){var val=(0,_compile.stringifyValueWithProperty)(value,prop);var cache=lookup.byProp;return cache[prop]&&cache[prop].hasOwnProperty(val)&&cache[prop][val];}function _injectRegisteredStyle(id){var doLeftAndRightSwapInRTL=_I18nManager.default.doLeftAndRightSwapInRTL,isRTL=_I18nManager.default.isRTL;var dir=isRTL?doLeftAndRightSwapInRTL?'rtl':'rtlNoSwap':'ltr';if(!inserted[dir][id]){var style=(0,_createCompileableStyle.default)((0,_i18nStyle.default)((0,_flattenStyle.default)(id)));var results=(0,_compile.atomic)(style);Object.keys(results).forEach(function(key){var _results$key=results[key],identifier=_results$key.identifier,property=_results$key.property,rules=_results$key.rules,value=_results$key.value;addToLookup(identifier,property,value);rules.forEach(function(rule){var group=_constants.STYLE_GROUPS.custom[property]||_constants.STYLE_GROUPS.atomic;sheet.insert(rule,group);});});inserted[dir][id]=true;}}function resolve(style,classList){var nextClassList=[];var props={};if(!style&&!classList){return props;}if(Array.isArray(classList)){(0,_flattenArray.default)(classList).forEach(function(identifier){if(identifier){if(inserted.css[identifier]==null&&resolved.css[identifier]!=null){var item=resolved.css[identifier];item.rules.forEach(function(rule){sheet.insert(rule,item.group);});inserted.css[identifier]=true;}nextClassList.push(identifier);}});}if(typeof style==='number'){_injectRegisteredStyle(style);var key=createCacheKey(style);props=_resolveStyle(style,key);}else if(!Array.isArray(style)){props=_resolveStyle(style);}else{var flatArray=(0,_flattenArray.default)(style);var isArrayOfNumbers=true;var cacheKey='';for(var i=0;i<flatArray.length;i++){var id=flatArray[i];if(typeof id!=='number'){isArrayOfNumbers=false;}else{if(isArrayOfNumbers){cacheKey+=id+'-';}_injectRegisteredStyle(id);}}var _key=isArrayOfNumbers?createCacheKey(cacheKey):null;props=_resolveStyle(flatArray,_key);}nextClassList.push.apply(nextClassList,props.classList);var finalProps={className:classListToString(nextClassList),classList:nextClassList};if(props.style){finalProps.style=props.style;}return finalProps;}function resolveWithNode(rnStyleNext,node){function getDeclaration(className){return lookup.byClassName[className]||emptyObject;}var _getDOMStyleInfo=getDOMStyleInfo(node),rdomClassList=_getDOMStyleInfo.classList,rdomStyle=_getDOMStyleInfo.style;var _rdomClassList$reduce=rdomClassList.reduce(function(styleProps,className){var _getDeclaration=getDeclaration(className),prop=_getDeclaration.prop,value=_getDeclaration.value;if(prop){styleProps.style[prop]=value;}else{styleProps.classList.push(className);}return styleProps;},{classList:[],style:{}}),rnClassList=_rdomClassList$reduce.classList,rnStyle=_rdomClassList$reduce.style;var _resolve=resolve([(0,_i18nStyle.default)(rnStyle),rnStyleNext]),rdomClassListNext=_resolve.classList,rdomStyleNext=_resolve.style;var className=classListToString(rdomClassListNext.concat(rnClassList));var style=_objectSpread({},rdomStyle);rdomClassListNext.forEach(function(className){var _getDeclaration2=getDeclaration(className),prop=_getDeclaration2.prop;if(style[prop]){style[prop]='';}});(0,_extends2.default)(style,rdomStyleNext);return{className:className,style:style};}function _resolveStyle(style,key){var doLeftAndRightSwapInRTL=_I18nManager.default.doLeftAndRightSwapInRTL,isRTL=_I18nManager.default.isRTL;var dir=isRTL?doLeftAndRightSwapInRTL?'rtl':'rtlNoSwap':'ltr';if(key!=null&&resolved[dir][key]!=null){return resolved[dir][key];}var flatStyle=(0,_flattenStyle.default)(style);var localizedStyle=(0,_createCompileableStyle.default)((0,_i18nStyle.default)(flatStyle));var props=Object.keys(localizedStyle).sort().reduce(function(props,styleProp){var value=localizedStyle[styleProp];if(value!=null){var className=getClassName(styleProp,value);if(className){props.classList.push(className);}else{if(styleProp==='animationKeyframes'||styleProp==='placeholderTextColor'||styleProp==='pointerEvents'||styleProp==='scrollbarWidth'){var _atomic;var a=(0,_compile.atomic)((_atomic={},_atomic[styleProp]=value,_atomic));Object.values(a).forEach(function(_ref){var identifier=_ref.identifier,rules=_ref.rules;props.classList.push(identifier);rules.forEach(function(rule){sheet.insert(rule,_constants.STYLE_GROUPS.atomic);});});}else{if(!props.style){props.style={};}props.style[styleProp]=value;}}}return props;},{classList:[]});if(props.style){props.style=(0,_compile.inline)(props.style);}if(key!=null){resolved[dir][key]=props;}return props;}return{getStyleSheet:function getStyleSheet(){var textContent=sheet.getTextContent();if(!_ExecutionEnvironment.canUseDOM){init();}return{id:_constants.STYLE_ELEMENT_ID,textContent:textContent};},createCSS:function createCSS(rules,group){var result={};Object.keys(rules).forEach(function(name){var style=rules[name];var compiled=(0,_compile.classic)(style,name);Object.values(compiled).forEach(function(_ref2){var identifier=_ref2.identifier,rules=_ref2.rules;resolved.css[identifier]={group:group||_constants.STYLE_GROUPS.classic,rules:rules};result[name]=identifier;});});return result;},resolve:resolve,sheet:sheet,resolveWithNode:resolveWithNode};}var createCacheKey=function createCacheKey(id){var prefix='rn';return prefix+\"-\"+id;};var classListToString=function classListToString(list){return list.join(' ').trim();};var hyphenPattern=/-([a-z])/g;var toCamelCase=function toCamelCase(str){return str.replace(hyphenPattern,function(m){return m[1].toUpperCase();});};var getDOMStyleInfo=function getDOMStyleInfo(node){var nodeStyle=node.style;var classList=Array.prototype.slice.call(node.classList);var style={};for(var i=0;i<nodeStyle.length;i+=1){var property=nodeStyle.item(i);if(property){style[toCamelCase(property)]=nodeStyle.getPropertyValue(property);}}return{classList:classList,style:style};};module.exports=exports.default;",{"version":3,"sources":["C:/backup/RNDSDemo/node_modules/react-native-web/dist/cjs/exports/StyleSheet/createStyleResolver.js"],"names":["exports","__esModule","default","createStyleResolver","_ExecutionEnvironment","require","_createCSSStyleSheet","_interopRequireDefault","_createCompileableStyle","_createOrderedCSSStyleSheet","_flattenArray","_flattenStyle","_I18nManager","_i18nStyle","_compile","_initialRules","_modality","_constants","obj","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","value","defineProperty","configurable","writable","emptyObject","inserted","sheet","lookup","resolved","css","ltr","rtl","rtlNoSwap","init","STYLE_ELEMENT_ID","byClassName","byProp","rule","insert","STYLE_GROUPS","modality","reset","addToLookup","className","prop","getClassName","val","stringifyValueWithProperty","cache","hasOwnProperty","_injectRegisteredStyle","id","doLeftAndRightSwapInRTL","isRTL","dir","style","results","atomic","_results$key","identifier","property","rules","group","custom","resolve","classList","nextClassList","props","Array","isArray","item","push","createCacheKey","_resolveStyle","flatArray","isArrayOfNumbers","cacheKey","_key","apply","finalProps","classListToString","resolveWithNode","rnStyleNext","node","getDeclaration","_getDOMStyleInfo","getDOMStyleInfo","rdomClassList","rdomStyle","_rdomClassList$reduce","reduce","styleProps","_getDeclaration","rnClassList","rnStyle","_resolve","rdomClassListNext","rdomStyleNext","_getDeclaration2","flatStyle","localizedStyle","sort","styleProp","_atomic","a","values","_ref","inline","getStyleSheet","textContent","getTextContent","canUseDOM","createCSS","result","name","compiled","classic","_ref2","prefix","list","join","trim","hyphenPattern","toCamelCase","str","replace","m","toUpperCase","nodeStyle","prototype","slice","call","getPropertyValue","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = createStyleResolver;\n\nvar _ExecutionEnvironment = require(\"fbjs/lib/ExecutionEnvironment\");\n\nvar _createCSSStyleSheet = _interopRequireDefault(require(\"./createCSSStyleSheet\"));\n\nvar _createCompileableStyle = _interopRequireDefault(require(\"./createCompileableStyle\"));\n\nvar _createOrderedCSSStyleSheet = _interopRequireDefault(require(\"./createOrderedCSSStyleSheet\"));\n\nvar _flattenArray = _interopRequireDefault(require(\"../../modules/flattenArray\"));\n\nvar _flattenStyle = _interopRequireDefault(require(\"./flattenStyle\"));\n\nvar _I18nManager = _interopRequireDefault(require(\"../I18nManager\"));\n\nvar _i18nStyle = _interopRequireDefault(require(\"./i18nStyle\"));\n\nvar _compile = require(\"./compile\");\n\nvar _initialRules = _interopRequireDefault(require(\"./initialRules\"));\n\nvar _modality = _interopRequireDefault(require(\"./modality\"));\n\nvar _constants = require(\"./constants\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar emptyObject = {};\n\nfunction createStyleResolver() {\n  var inserted, sheet, lookup;\n  var resolved = {\n    css: {},\n    ltr: {},\n    rtl: {},\n    rtlNoSwap: {}\n  };\n\n  var init = function init() {\n    inserted = {\n      css: {},\n      ltr: {},\n      rtl: {},\n      rtlNoSwap: {}\n    };\n    sheet = (0, _createOrderedCSSStyleSheet.default)((0, _createCSSStyleSheet.default)(_constants.STYLE_ELEMENT_ID));\n    lookup = {\n      byClassName: {},\n      byProp: {}\n    };\n    (0, _modality.default)(function (rule) {\n      return sheet.insert(rule, _constants.STYLE_GROUPS.modality);\n    });\n\n    _initialRules.default.forEach(function (rule) {\n      sheet.insert(rule, _constants.STYLE_GROUPS.reset);\n    });\n  };\n\n  init();\n\n  function addToLookup(className, prop, value) {\n    if (!lookup.byProp[prop]) {\n      lookup.byProp[prop] = {};\n    }\n\n    lookup.byProp[prop][value] = className;\n    lookup.byClassName[className] = {\n      prop: prop,\n      value: value\n    };\n  }\n\n  function getClassName(prop, value) {\n    var val = (0, _compile.stringifyValueWithProperty)(value, prop);\n    var cache = lookup.byProp;\n    return cache[prop] && cache[prop].hasOwnProperty(val) && cache[prop][val];\n  }\n\n  function _injectRegisteredStyle(id) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr';\n\n    if (!inserted[dir][id]) {\n      var style = (0, _createCompileableStyle.default)((0, _i18nStyle.default)((0, _flattenStyle.default)(id)));\n      var results = (0, _compile.atomic)(style);\n      Object.keys(results).forEach(function (key) {\n        var _results$key = results[key],\n            identifier = _results$key.identifier,\n            property = _results$key.property,\n            rules = _results$key.rules,\n            value = _results$key.value;\n        addToLookup(identifier, property, value);\n        rules.forEach(function (rule) {\n          var group = _constants.STYLE_GROUPS.custom[property] || _constants.STYLE_GROUPS.atomic;\n          sheet.insert(rule, group);\n        });\n      });\n      inserted[dir][id] = true;\n    }\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes\n   */\n\n\n  function resolve(style, classList) {\n    var nextClassList = [];\n    var props = {};\n\n    if (!style && !classList) {\n      return props;\n    }\n\n    if (Array.isArray(classList)) {\n      (0, _flattenArray.default)(classList).forEach(function (identifier) {\n        if (identifier) {\n          if (inserted.css[identifier] == null && resolved.css[identifier] != null) {\n            var item = resolved.css[identifier];\n            item.rules.forEach(function (rule) {\n              sheet.insert(rule, item.group);\n            });\n            inserted.css[identifier] = true;\n          }\n\n          nextClassList.push(identifier);\n        }\n      });\n    }\n\n    if (typeof style === 'number') {\n      // fast and cachable\n      _injectRegisteredStyle(style);\n\n      var key = createCacheKey(style);\n      props = _resolveStyle(style, key);\n    } else if (!Array.isArray(style)) {\n      // resolve a plain RN style object\n      props = _resolveStyle(style);\n    } else {\n      // flatten the style array\n      // cache resolved props when all styles are registered\n      // otherwise fallback to resolving\n      var flatArray = (0, _flattenArray.default)(style);\n      var isArrayOfNumbers = true;\n      var cacheKey = '';\n\n      for (var i = 0; i < flatArray.length; i++) {\n        var id = flatArray[i];\n\n        if (typeof id !== 'number') {\n          isArrayOfNumbers = false;\n        } else {\n          if (isArrayOfNumbers) {\n            cacheKey += id + '-';\n          }\n\n          _injectRegisteredStyle(id);\n        }\n      }\n\n      var _key = isArrayOfNumbers ? createCacheKey(cacheKey) : null;\n\n      props = _resolveStyle(flatArray, _key);\n    }\n\n    nextClassList.push.apply(nextClassList, props.classList);\n    var finalProps = {\n      className: classListToString(nextClassList),\n      classList: nextClassList\n    };\n\n    if (props.style) {\n      finalProps.style = props.style;\n    }\n\n    return finalProps;\n  }\n  /**\n   * Resolves a React Native style object to DOM attributes, accounting for\n   * the existing styles applied to the DOM node.\n   *\n   * To determine the next style, some of the existing DOM state must be\n   * converted back into React Native styles.\n   */\n\n\n  function resolveWithNode(rnStyleNext, node) {\n    function getDeclaration(className) {\n      return lookup.byClassName[className] || emptyObject;\n    }\n\n    var _getDOMStyleInfo = getDOMStyleInfo(node),\n        rdomClassList = _getDOMStyleInfo.classList,\n        rdomStyle = _getDOMStyleInfo.style; // Convert the DOM classList back into a React Native form\n    // Preserves unrecognized class names.\n\n\n    var _rdomClassList$reduce = rdomClassList.reduce(function (styleProps, className) {\n      var _getDeclaration = getDeclaration(className),\n          prop = _getDeclaration.prop,\n          value = _getDeclaration.value;\n\n      if (prop) {\n        styleProps.style[prop] = value;\n      } else {\n        styleProps.classList.push(className);\n      }\n\n      return styleProps;\n    }, {\n      classList: [],\n      style: {}\n    }),\n        rnClassList = _rdomClassList$reduce.classList,\n        rnStyle = _rdomClassList$reduce.style; // Create next DOM style props from current and next RN styles\n\n\n    var _resolve = resolve([(0, _i18nStyle.default)(rnStyle), rnStyleNext]),\n        rdomClassListNext = _resolve.classList,\n        rdomStyleNext = _resolve.style; // Final className\n    // Add the current class names not managed by React Native\n\n\n    var className = classListToString(rdomClassListNext.concat(rnClassList)); // Final style\n    // Next class names take priority over current inline styles\n\n    var style = _objectSpread({}, rdomStyle);\n\n    rdomClassListNext.forEach(function (className) {\n      var _getDeclaration2 = getDeclaration(className),\n          prop = _getDeclaration2.prop;\n\n      if (style[prop]) {\n        style[prop] = '';\n      }\n    }); // Next inline styles take priority over current inline styles\n\n    Object.assign(style, rdomStyleNext);\n    return {\n      className: className,\n      style: style\n    };\n  }\n  /**\n   * Resolves a React Native style object\n   */\n\n\n  function _resolveStyle(style, key) {\n    var doLeftAndRightSwapInRTL = _I18nManager.default.doLeftAndRightSwapInRTL,\n        isRTL = _I18nManager.default.isRTL;\n    var dir = isRTL ? doLeftAndRightSwapInRTL ? 'rtl' : 'rtlNoSwap' : 'ltr'; // faster: memoized\n\n    if (key != null && resolved[dir][key] != null) {\n      return resolved[dir][key];\n    }\n\n    var flatStyle = (0, _flattenStyle.default)(style);\n    var localizedStyle = (0, _createCompileableStyle.default)((0, _i18nStyle.default)(flatStyle)); // slower: convert style object to props and cache\n\n    var props = Object.keys(localizedStyle).sort().reduce(function (props, styleProp) {\n      var value = localizedStyle[styleProp];\n\n      if (value != null) {\n        var className = getClassName(styleProp, value);\n\n        if (className) {\n          props.classList.push(className);\n        } else {\n          // Certain properties and values are not transformed by 'createReactDOMStyle' as they\n          // require more complex transforms into multiple CSS rules. Here we assume that StyleManager\n          // can bind these styles to a className, and prevent them becoming invalid inline-styles.\n          if (styleProp === 'animationKeyframes' || styleProp === 'placeholderTextColor' || styleProp === 'pointerEvents' || styleProp === 'scrollbarWidth') {\n            var _atomic;\n\n            var a = (0, _compile.atomic)((_atomic = {}, _atomic[styleProp] = value, _atomic));\n            Object.values(a).forEach(function (_ref) {\n              var identifier = _ref.identifier,\n                  rules = _ref.rules;\n              props.classList.push(identifier);\n              rules.forEach(function (rule) {\n                sheet.insert(rule, _constants.STYLE_GROUPS.atomic);\n              });\n            });\n          } else {\n            if (!props.style) {\n              props.style = {};\n            } // 4x slower render\n\n\n            props.style[styleProp] = value;\n          }\n        }\n      }\n\n      return props;\n    }, {\n      classList: []\n    });\n\n    if (props.style) {\n      props.style = (0, _compile.inline)(props.style);\n    }\n\n    if (key != null) {\n      resolved[dir][key] = props;\n    }\n\n    return props;\n  }\n\n  return {\n    getStyleSheet: function getStyleSheet() {\n      var textContent = sheet.getTextContent(); // Reset state on the server so critical css is always the result\n\n      if (!_ExecutionEnvironment.canUseDOM) {\n        init();\n      }\n\n      return {\n        id: _constants.STYLE_ELEMENT_ID,\n        textContent: textContent\n      };\n    },\n    createCSS: function createCSS(rules, group) {\n      var result = {};\n      Object.keys(rules).forEach(function (name) {\n        var style = rules[name];\n        var compiled = (0, _compile.classic)(style, name);\n        Object.values(compiled).forEach(function (_ref2) {\n          var identifier = _ref2.identifier,\n              rules = _ref2.rules;\n          resolved.css[identifier] = {\n            group: group || _constants.STYLE_GROUPS.classic,\n            rules: rules\n          };\n          result[name] = identifier;\n        });\n      });\n      return result;\n    },\n    resolve: resolve,\n    sheet: sheet,\n    resolveWithNode: resolveWithNode\n  };\n}\n/**\n * Misc helpers\n */\n\n\nvar createCacheKey = function createCacheKey(id) {\n  var prefix = 'rn';\n  return prefix + \"-\" + id;\n};\n\nvar classListToString = function classListToString(list) {\n  return list.join(' ').trim();\n};\n/**\n * Copies classList and style data from a DOM node\n */\n\n\nvar hyphenPattern = /-([a-z])/g;\n\nvar toCamelCase = function toCamelCase(str) {\n  return str.replace(hyphenPattern, function (m) {\n    return m[1].toUpperCase();\n  });\n};\n\nvar getDOMStyleInfo = function getDOMStyleInfo(node) {\n  var nodeStyle = node.style;\n  var classList = Array.prototype.slice.call(node.classList);\n  var style = {}; // DOM style is a CSSStyleDeclaration\n  // https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n\n  for (var i = 0; i < nodeStyle.length; i += 1) {\n    var property = nodeStyle.item(i);\n\n    if (property) {\n      // DOM style uses hyphenated prop names and may include vendor prefixes\n      // Transform back into React DOM style.\n      style[toCamelCase(property)] = nodeStyle.getPropertyValue(property);\n    }\n  }\n\n  return {\n    classList: classList,\n    style: style\n  };\n};\n\nmodule.exports = exports.default;"]}]}