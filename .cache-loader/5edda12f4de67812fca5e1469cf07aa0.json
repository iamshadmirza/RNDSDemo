{"remainingRequest":"C:\\backup\\RNDSDemo\\node_modules\\thread-loader\\dist\\cjs.js??ref--14-1!C:\\backup\\RNDSDemo\\node_modules\\babel-loader\\lib\\index.js??ref--14-2!C:\\backup\\RNDSDemo\\node_modules\\react-native-web\\dist\\cjs\\exports\\Image\\index.js","dependencies":[{"path":"C:\\backup\\RNDSDemo\\node_modules\\react-native-web\\dist\\cjs\\exports\\Image\\index.js","mtime":1572943696569},{"path":"C:\\backup\\RNDSDemo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1575382926455},{"path":"C:\\backup\\RNDSDemo\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1575382927776},{"path":"C:\\backup\\RNDSDemo\\node_modules\\babel-loader\\lib\\index.js","mtime":1574752627091}],"contextDependencies":[],"result":["\"use strict\";exports.__esModule=true;exports.default=void 0;var _applyNativeMethods=_interopRequireDefault(require(\"../../modules/applyNativeMethods\"));var _createElement=_interopRequireDefault(require(\"../createElement\"));var _css=_interopRequireDefault(require(\"../StyleSheet/css\"));var _AssetRegistry=require(\"../../modules/AssetRegistry\");var _resolveShadowValue=_interopRequireDefault(require(\"../StyleSheet/resolveShadowValue\"));var _ImageLoader=_interopRequireDefault(require(\"../../modules/ImageLoader\"));var _ImageResizeMode=_interopRequireDefault(require(\"./ImageResizeMode\"));var _ImageSourcePropType=_interopRequireDefault(require(\"./ImageSourcePropType\"));var _ImageStylePropTypes=_interopRequireDefault(require(\"./ImageStylePropTypes\"));var _ImageUriCache=_interopRequireDefault(require(\"./ImageUriCache\"));var _StyleSheet=_interopRequireDefault(require(\"../StyleSheet\"));var _StyleSheetPropType=_interopRequireDefault(require(\"../../modules/StyleSheetPropType\"));var _View=_interopRequireDefault(require(\"../View\"));var _ViewPropTypes=_interopRequireDefault(require(\"../ViewPropTypes\"));var _propTypes=require(\"prop-types\");var _react=_interopRequireWildcard(require(\"react\"));function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj;}else{var newObj={};if(obj!=null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):{};if(desc.get||desc.set){Object.defineProperty(newObj,key,desc);}else{newObj[key]=obj[key];}}}}newObj.default=obj;return newObj;}}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _extends(){_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};return _extends.apply(this,arguments);}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==='function'){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable;}));}ownKeys.forEach(function(key){_defineProperty(target,key,source[key]);});}return target;}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}function _objectWithoutPropertiesLoose(source,excluded){if(source==null)return{};var target={};var sourceKeys=Object.keys(source);var key,i;for(i=0;i<sourceKeys.length;i++){key=sourceKeys[i];if(excluded.indexOf(key)>=0)continue;target[key]=source[key];}return target;}function _inheritsLoose(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;subClass.__proto__=superClass;}var emptyObject={};var STATUS_ERRORED='ERRORED';var STATUS_LOADED='LOADED';var STATUS_LOADING='LOADING';var STATUS_PENDING='PENDING';var STATUS_IDLE='IDLE';var getImageState=function getImageState(uri,shouldDisplaySource){return shouldDisplaySource?STATUS_LOADED:uri?STATUS_PENDING:STATUS_IDLE;};var resolveAssetDimensions=function resolveAssetDimensions(source){if(typeof source==='number'){var _getAssetByID=(0,_AssetRegistry.getAssetByID)(source),height=_getAssetByID.height,width=_getAssetByID.width;return{height:height,width:width};}else if(typeof source==='object'){var _height=source.height,_width=source.width;return{height:_height,width:_width};}};var svgDataUriPattern=/^(data:image\\/svg\\+xml;utf8,)(.*)/;var resolveAssetUri=function resolveAssetUri(source){var uri='';if(typeof source==='number'){var asset=(0,_AssetRegistry.getAssetByID)(source);var scale=asset.scales[0];var scaleSuffix=scale!==1?\"@\"+scale+\"x\":'';uri=asset?asset.httpServerLocation+\"/\"+asset.name+scaleSuffix+\".\"+asset.type:'';}else if(typeof source==='string'){uri=source;}else if(source&&typeof source.uri==='string'){uri=source.uri;}if(uri){var match=uri.match(svgDataUriPattern);if(match){var prefix=match[1],svg=match[2];var encodedSvg=encodeURIComponent(svg);return\"\"+prefix+encodedSvg;}}return uri;};var filterId=0;var createTintColorSVG=function createTintColorSVG(tintColor,id){return tintColor&&id!=null?_react.default.createElement(\"svg\",{style:{position:'absolute',height:0,visibility:'hidden',width:0}},_react.default.createElement(\"defs\",null,_react.default.createElement(\"filter\",{id:\"tint-\"+id},_react.default.createElement(\"feFlood\",{floodColor:\"\"+tintColor}),_react.default.createElement(\"feComposite\",{in2:\"SourceAlpha\",operator:\"atop\"})))):null;};var Image=function(_Component){_inheritsLoose(Image,_Component);Image.getSize=function getSize(uri,success,failure){_ImageLoader.default.getSize(uri,success,failure);};Image.prefetch=function prefetch(uri){return _ImageLoader.default.prefetch(uri).then(function(){_ImageUriCache.default.add(uri);_ImageUriCache.default.remove(uri);});};Image.queryCache=function queryCache(uris){var result={};uris.forEach(function(u){if(_ImageUriCache.default.has(u)){result[u]='disk/memory';}});return Promise.resolve(result);};function Image(props,context){var _this;_this=_Component.call(this,props,context)||this;_this._filterId=0;_this._imageRef=null;_this._imageRequestId=null;_this._imageState=null;_this._isMounted=false;_this._createLayoutHandler=function(resizeMode){var onLayout=_this.props.onLayout;if(resizeMode==='center'||resizeMode==='repeat'||onLayout){return function(e){var layout=e.nativeEvent.layout;onLayout&&onLayout(e);_this.setState(function(){return{layout:layout};});};}};_this._getBackgroundSize=function(resizeMode){if(_this._imageRef&&(resizeMode==='center'||resizeMode==='repeat')){var _this$_imageRef=_this._imageRef,naturalHeight=_this$_imageRef.naturalHeight,naturalWidth=_this$_imageRef.naturalWidth;var _this$state$layout=_this.state.layout,height=_this$state$layout.height,width=_this$state$layout.width;if(naturalHeight&&naturalWidth&&height&&width){var scaleFactor=Math.min(1,width/naturalWidth,height/naturalHeight);var x=Math.ceil(scaleFactor*naturalWidth);var y=Math.ceil(scaleFactor*naturalHeight);return{backgroundSize:x+\"px \"+y+\"px\"};}}};_this._onError=function(){var _this$props=_this.props,onError=_this$props.onError,source=_this$props.source;_this._updateImageState(STATUS_ERRORED);if(onError){onError({nativeEvent:{error:\"Failed to load resource \"+resolveAssetUri(source)+\" (404)\"}});}_this._onLoadEnd();};_this._onLoad=function(e){var _this$props2=_this.props,onLoad=_this$props2.onLoad,source=_this$props2.source;var event={nativeEvent:e};_ImageUriCache.default.add(resolveAssetUri(source));_this._updateImageState(STATUS_LOADED);if(onLoad){onLoad(event);}_this._onLoadEnd();};_this._setImageRef=function(ref){_this._imageRef=ref;};var uri=resolveAssetUri(props.source);var shouldDisplaySource=_ImageUriCache.default.has(uri);_this.state={layout:{},shouldDisplaySource:shouldDisplaySource};_this._imageState=getImageState(uri,shouldDisplaySource);_this._filterId=filterId;filterId++;return _this;}var _proto=Image.prototype;_proto.componentDidMount=function componentDidMount(){this._isMounted=true;if(this._imageState===STATUS_PENDING){this._createImageLoader();}else if(this._imageState===STATUS_LOADED){this._onLoad({target:this._imageRef});}};_proto.componentDidUpdate=function componentDidUpdate(prevProps){var prevUri=resolveAssetUri(prevProps.source);var uri=resolveAssetUri(this.props.source);var hasDefaultSource=this.props.defaultSource!=null;if(prevUri!==uri){_ImageUriCache.default.remove(prevUri);var isPreviouslyLoaded=_ImageUriCache.default.has(uri);isPreviouslyLoaded&&_ImageUriCache.default.add(uri);this._updateImageState(getImageState(uri,isPreviouslyLoaded),hasDefaultSource);}else if(hasDefaultSource&&prevProps.defaultSource!==this.props.defaultSource){this._updateImageState(this._imageState,hasDefaultSource);}if(this._imageState===STATUS_PENDING){this._createImageLoader();}};_proto.componentWillUnmount=function componentWillUnmount(){var uri=resolveAssetUri(this.props.source);_ImageUriCache.default.remove(uri);this._destroyImageLoader();this._isMounted=false;};_proto.render=function render(){var shouldDisplaySource=this.state.shouldDisplaySource;var _this$props3=this.props,accessibilityLabel=_this$props3.accessibilityLabel,accessible=_this$props3.accessible,blurRadius=_this$props3.blurRadius,defaultSource=_this$props3.defaultSource,draggable=_this$props3.draggable,source=_this$props3.source,testID=_this$props3.testID,capInsets=_this$props3.capInsets,onError=_this$props3.onError,onLayout=_this$props3.onLayout,onLoad=_this$props3.onLoad,onLoadEnd=_this$props3.onLoadEnd,onLoadStart=_this$props3.onLoadStart,resizeMethod=_this$props3.resizeMethod,resizeMode=_this$props3.resizeMode,other=_objectWithoutPropertiesLoose(_this$props3,[\"accessibilityLabel\",\"accessible\",\"blurRadius\",\"defaultSource\",\"draggable\",\"source\",\"testID\",\"capInsets\",\"onError\",\"onLayout\",\"onLoad\",\"onLoadEnd\",\"onLoadStart\",\"resizeMethod\",\"resizeMode\"]);if(process.env.NODE_ENV!=='production'){if(this.props.src){console.warn('The <Image> component requires a `source` property rather than `src`.');}if(this.props.children){throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');}}var selectedSource=shouldDisplaySource?source:defaultSource;var displayImageUri=resolveAssetUri(selectedSource);var imageSizeStyle=resolveAssetDimensions(selectedSource);var backgroundImage=displayImageUri?\"url(\\\"\"+displayImageUri+\"\\\")\":null;var flatStyle=_objectSpread({},_StyleSheet.default.flatten(this.props.style));var finalResizeMode=resizeMode||flatStyle.resizeMode||_ImageResizeMode.default.cover;var filters=[];var tintColor=flatStyle.tintColor;if(flatStyle.filter){filters.push(flatStyle.filter);}if(blurRadius){filters.push(\"blur(\"+blurRadius+\"px)\");}if(flatStyle.shadowOffset){var shadowString=(0,_resolveShadowValue.default)(flatStyle);if(shadowString){filters.push(\"drop-shadow(\"+shadowString+\")\");}}if(flatStyle.tintColor){filters.push(\"url(#tint-\"+this._filterId+\")\");}delete flatStyle.shadowColor;delete flatStyle.shadowOpacity;delete flatStyle.shadowOffset;delete flatStyle.shadowRadius;delete flatStyle.tintColor;delete flatStyle.overlayColor;delete flatStyle.resizeMode;var hiddenImage=displayImageUri?(0,_createElement.default)('img',{alt:accessibilityLabel||'',classList:[classes.accessibilityImage],draggable:draggable||false,ref:this._setImageRef,src:displayImageUri}):null;return _react.default.createElement(_View.default,_extends({},other,{accessibilityLabel:accessibilityLabel,accessible:accessible,onLayout:this._createLayoutHandler(finalResizeMode),style:[styles.root,this.context.isInAParentText&&styles.inline,imageSizeStyle,flatStyle],testID:testID}),_react.default.createElement(_View.default,{style:[styles.image,resizeModeStyles[finalResizeMode],this._getBackgroundSize(finalResizeMode),backgroundImage&&{backgroundImage:backgroundImage},filters.length>0&&{filter:filters.join(' ')}]}),hiddenImage,createTintColorSVG(tintColor,this._filterId));};_proto._createImageLoader=function _createImageLoader(){var source=this.props.source;this._destroyImageLoader();var uri=resolveAssetUri(source);this._imageRequestId=_ImageLoader.default.load(uri,this._onLoad,this._onError);this._onLoadStart();};_proto._destroyImageLoader=function _destroyImageLoader(){if(this._imageRequestId){_ImageLoader.default.abort(this._imageRequestId);this._imageRequestId=null;}};_proto._onLoadEnd=function _onLoadEnd(){var onLoadEnd=this.props.onLoadEnd;if(onLoadEnd){onLoadEnd();}};_proto._onLoadStart=function _onLoadStart(){var _this$props4=this.props,defaultSource=_this$props4.defaultSource,onLoadStart=_this$props4.onLoadStart;this._updateImageState(STATUS_LOADING,defaultSource!=null);if(onLoadStart){onLoadStart();}};_proto._updateImageState=function _updateImageState(status,hasDefaultSource){if(hasDefaultSource===void 0){hasDefaultSource=false;}this._imageState=status;var shouldDisplaySource=this._imageState===STATUS_LOADED||this._imageState===STATUS_LOADING&&!hasDefaultSource;if(shouldDisplaySource!==this.state.shouldDisplaySource){if(this._isMounted){this.setState(function(){return{shouldDisplaySource:shouldDisplaySource};});}}};return Image;}(_react.Component);Image.displayName='Image';Image.contextTypes={isInAParentText:_propTypes.bool};Image.defaultProps={style:emptyObject};Image.propTypes=process.env.NODE_ENV!==\"production\"?_objectSpread({},_ViewPropTypes.default,{blurRadius:_propTypes.number,defaultSource:_ImageSourcePropType.default,draggable:_propTypes.bool,onError:_propTypes.func,onLayout:_propTypes.func,onLoad:_propTypes.func,onLoadEnd:_propTypes.func,onLoadStart:_propTypes.func,resizeMode:(0,_propTypes.oneOf)(Object.keys(_ImageResizeMode.default)),source:_ImageSourcePropType.default,style:(0,_StyleSheetPropType.default)(_ImageStylePropTypes.default),capInsets:(0,_propTypes.shape)({top:_propTypes.number,left:_propTypes.number,bottom:_propTypes.number,right:_propTypes.number}),resizeMethod:(0,_propTypes.oneOf)(['auto','resize','scale'])}):{};var classes=_css.default.create({accessibilityImage:_objectSpread({},_StyleSheet.default.absoluteFillObject,{height:'100%',opacity:0,width:'100%',zIndex:-1})});var styles=_StyleSheet.default.create({root:{flexBasis:'auto',overflow:'hidden',zIndex:0},inline:{display:'inline-flex'},image:_objectSpread({},_StyleSheet.default.absoluteFillObject,{backgroundColor:'transparent',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundSize:'cover',height:'100%',width:'100%',zIndex:-1})});var resizeModeStyles=_StyleSheet.default.create({center:{backgroundSize:'auto'},contain:{backgroundSize:'contain'},cover:{backgroundSize:'cover'},none:{backgroundPosition:'0 0',backgroundSize:'auto'},repeat:{backgroundPosition:'0 0',backgroundRepeat:'repeat',backgroundSize:'auto'},stretch:{backgroundSize:'100% 100%'}});var _default=(0,_applyNativeMethods.default)(Image);exports.default=_default;module.exports=exports.default;",{"version":3,"sources":["C:/backup/RNDSDemo/node_modules/react-native-web/dist/cjs/exports/Image/index.js"],"names":["exports","__esModule","default","_applyNativeMethods","_interopRequireDefault","require","_createElement","_css","_AssetRegistry","_resolveShadowValue","_ImageLoader","_ImageResizeMode","_ImageSourcePropType","_ImageStylePropTypes","_ImageUriCache","_StyleSheet","_StyleSheetPropType","_View","_ViewPropTypes","_propTypes","_react","_interopRequireWildcard","obj","newObj","key","Object","prototype","hasOwnProperty","call","desc","defineProperty","getOwnPropertyDescriptor","get","set","_extends","assign","target","i","arguments","length","source","apply","_objectSpread","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","enumerable","forEach","_defineProperty","value","configurable","writable","_objectWithoutPropertiesLoose","excluded","sourceKeys","indexOf","_inheritsLoose","subClass","superClass","create","constructor","__proto__","emptyObject","STATUS_ERRORED","STATUS_LOADED","STATUS_LOADING","STATUS_PENDING","STATUS_IDLE","getImageState","uri","shouldDisplaySource","resolveAssetDimensions","_getAssetByID","getAssetByID","height","width","_height","_width","svgDataUriPattern","resolveAssetUri","asset","scale","scales","scaleSuffix","httpServerLocation","name","type","match","prefix","svg","encodedSvg","encodeURIComponent","filterId","createTintColorSVG","tintColor","id","createElement","style","position","visibility","floodColor","in2","operator","Image","_Component","getSize","success","failure","prefetch","then","add","remove","queryCache","uris","result","u","has","Promise","resolve","props","context","_this","_filterId","_imageRef","_imageRequestId","_imageState","_isMounted","_createLayoutHandler","resizeMode","onLayout","e","layout","nativeEvent","setState","_getBackgroundSize","_this$_imageRef","naturalHeight","naturalWidth","_this$state$layout","state","scaleFactor","Math","min","x","ceil","y","backgroundSize","_onError","_this$props","onError","_updateImageState","error","_onLoadEnd","_onLoad","_this$props2","onLoad","event","_setImageRef","ref","_proto","componentDidMount","_createImageLoader","componentDidUpdate","prevProps","prevUri","hasDefaultSource","defaultSource","isPreviouslyLoaded","componentWillUnmount","_destroyImageLoader","render","_this$props3","accessibilityLabel","accessible","blurRadius","draggable","testID","capInsets","onLoadEnd","onLoadStart","resizeMethod","other","process","env","NODE_ENV","src","console","warn","children","Error","selectedSource","displayImageUri","imageSizeStyle","backgroundImage","flatStyle","flatten","finalResizeMode","cover","filters","push","shadowOffset","shadowString","shadowColor","shadowOpacity","shadowRadius","overlayColor","hiddenImage","alt","classList","classes","accessibilityImage","styles","root","isInAParentText","inline","image","resizeModeStyles","join","load","_onLoadStart","abort","_this$props4","status","Component","displayName","contextTypes","bool","defaultProps","propTypes","number","func","oneOf","shape","top","left","bottom","right","absoluteFillObject","opacity","zIndex","flexBasis","overflow","display","backgroundColor","backgroundPosition","backgroundRepeat","center","contain","none","repeat","stretch","_default","module"],"mappings":"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","sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _applyNativeMethods = _interopRequireDefault(require(\"../../modules/applyNativeMethods\"));\n\nvar _createElement = _interopRequireDefault(require(\"../createElement\"));\n\nvar _css = _interopRequireDefault(require(\"../StyleSheet/css\"));\n\nvar _AssetRegistry = require(\"../../modules/AssetRegistry\");\n\nvar _resolveShadowValue = _interopRequireDefault(require(\"../StyleSheet/resolveShadowValue\"));\n\nvar _ImageLoader = _interopRequireDefault(require(\"../../modules/ImageLoader\"));\n\nvar _ImageResizeMode = _interopRequireDefault(require(\"./ImageResizeMode\"));\n\nvar _ImageSourcePropType = _interopRequireDefault(require(\"./ImageSourcePropType\"));\n\nvar _ImageStylePropTypes = _interopRequireDefault(require(\"./ImageStylePropTypes\"));\n\nvar _ImageUriCache = _interopRequireDefault(require(\"./ImageUriCache\"));\n\nvar _StyleSheet = _interopRequireDefault(require(\"../StyleSheet\"));\n\nvar _StyleSheetPropType = _interopRequireDefault(require(\"../../modules/StyleSheetPropType\"));\n\nvar _View = _interopRequireDefault(require(\"../View\"));\n\nvar _ViewPropTypes = _interopRequireDefault(require(\"../ViewPropTypes\"));\n\nvar _propTypes = require(\"prop-types\");\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = Object.defineProperty && Object.getOwnPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : {}; if (desc.get || desc.set) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nvar emptyObject = {};\nvar STATUS_ERRORED = 'ERRORED';\nvar STATUS_LOADED = 'LOADED';\nvar STATUS_LOADING = 'LOADING';\nvar STATUS_PENDING = 'PENDING';\nvar STATUS_IDLE = 'IDLE';\n\nvar getImageState = function getImageState(uri, shouldDisplaySource) {\n  return shouldDisplaySource ? STATUS_LOADED : uri ? STATUS_PENDING : STATUS_IDLE;\n};\n\nvar resolveAssetDimensions = function resolveAssetDimensions(source) {\n  if (typeof source === 'number') {\n    var _getAssetByID = (0, _AssetRegistry.getAssetByID)(source),\n        height = _getAssetByID.height,\n        width = _getAssetByID.width;\n\n    return {\n      height: height,\n      width: width\n    };\n  } else if (typeof source === 'object') {\n    var _height = source.height,\n        _width = source.width;\n    return {\n      height: _height,\n      width: _width\n    };\n  }\n};\n\nvar svgDataUriPattern = /^(data:image\\/svg\\+xml;utf8,)(.*)/;\n\nvar resolveAssetUri = function resolveAssetUri(source) {\n  var uri = '';\n\n  if (typeof source === 'number') {\n    // get the URI from the packager\n    var asset = (0, _AssetRegistry.getAssetByID)(source);\n    var scale = asset.scales[0];\n    var scaleSuffix = scale !== 1 ? \"@\" + scale + \"x\" : '';\n    uri = asset ? asset.httpServerLocation + \"/\" + asset.name + scaleSuffix + \".\" + asset.type : '';\n  } else if (typeof source === 'string') {\n    uri = source;\n  } else if (source && typeof source.uri === 'string') {\n    uri = source.uri;\n  }\n\n  if (uri) {\n    var match = uri.match(svgDataUriPattern); // inline SVG markup may contain characters (e.g., #, \") that need to be escaped\n\n    if (match) {\n      var prefix = match[1],\n          svg = match[2];\n      var encodedSvg = encodeURIComponent(svg);\n      return \"\" + prefix + encodedSvg;\n    }\n  }\n\n  return uri;\n};\n\nvar filterId = 0;\n\nvar createTintColorSVG = function createTintColorSVG(tintColor, id) {\n  return tintColor && id != null ? _react.default.createElement(\"svg\", {\n    style: {\n      position: 'absolute',\n      height: 0,\n      visibility: 'hidden',\n      width: 0\n    }\n  }, _react.default.createElement(\"defs\", null, _react.default.createElement(\"filter\", {\n    id: \"tint-\" + id\n  }, _react.default.createElement(\"feFlood\", {\n    floodColor: \"\" + tintColor\n  }), _react.default.createElement(\"feComposite\", {\n    in2: \"SourceAlpha\",\n    operator: \"atop\"\n  })))) : null;\n};\n\nvar Image =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Image, _Component);\n\n  Image.getSize = function getSize(uri, success, failure) {\n    _ImageLoader.default.getSize(uri, success, failure);\n  };\n\n  Image.prefetch = function prefetch(uri) {\n    return _ImageLoader.default.prefetch(uri).then(function () {\n      // Add the uri to the cache so it can be immediately displayed when used\n      // but also immediately remove it to correctly reflect that it has no active references\n      _ImageUriCache.default.add(uri);\n\n      _ImageUriCache.default.remove(uri);\n    });\n  };\n\n  Image.queryCache = function queryCache(uris) {\n    var result = {};\n    uris.forEach(function (u) {\n      if (_ImageUriCache.default.has(u)) {\n        result[u] = 'disk/memory';\n      }\n    });\n    return Promise.resolve(result);\n  };\n\n  function Image(props, context) {\n    var _this;\n\n    _this = _Component.call(this, props, context) || this; // If an image has been loaded before, render it immediately\n\n    _this._filterId = 0;\n    _this._imageRef = null;\n    _this._imageRequestId = null;\n    _this._imageState = null;\n    _this._isMounted = false;\n\n    _this._createLayoutHandler = function (resizeMode) {\n      var onLayout = _this.props.onLayout;\n\n      if (resizeMode === 'center' || resizeMode === 'repeat' || onLayout) {\n        return function (e) {\n          var layout = e.nativeEvent.layout;\n          onLayout && onLayout(e);\n\n          _this.setState(function () {\n            return {\n              layout: layout\n            };\n          });\n        };\n      }\n    };\n\n    _this._getBackgroundSize = function (resizeMode) {\n      if (_this._imageRef && (resizeMode === 'center' || resizeMode === 'repeat')) {\n        var _this$_imageRef = _this._imageRef,\n            naturalHeight = _this$_imageRef.naturalHeight,\n            naturalWidth = _this$_imageRef.naturalWidth;\n        var _this$state$layout = _this.state.layout,\n            height = _this$state$layout.height,\n            width = _this$state$layout.width;\n\n        if (naturalHeight && naturalWidth && height && width) {\n          var scaleFactor = Math.min(1, width / naturalWidth, height / naturalHeight);\n          var x = Math.ceil(scaleFactor * naturalWidth);\n          var y = Math.ceil(scaleFactor * naturalHeight);\n          return {\n            backgroundSize: x + \"px \" + y + \"px\"\n          };\n        }\n      }\n    };\n\n    _this._onError = function () {\n      var _this$props = _this.props,\n          onError = _this$props.onError,\n          source = _this$props.source;\n\n      _this._updateImageState(STATUS_ERRORED);\n\n      if (onError) {\n        onError({\n          nativeEvent: {\n            error: \"Failed to load resource \" + resolveAssetUri(source) + \" (404)\"\n          }\n        });\n      }\n\n      _this._onLoadEnd();\n    };\n\n    _this._onLoad = function (e) {\n      var _this$props2 = _this.props,\n          onLoad = _this$props2.onLoad,\n          source = _this$props2.source;\n      var event = {\n        nativeEvent: e\n      };\n\n      _ImageUriCache.default.add(resolveAssetUri(source));\n\n      _this._updateImageState(STATUS_LOADED);\n\n      if (onLoad) {\n        onLoad(event);\n      }\n\n      _this._onLoadEnd();\n    };\n\n    _this._setImageRef = function (ref) {\n      _this._imageRef = ref;\n    };\n\n    var uri = resolveAssetUri(props.source);\n\n    var shouldDisplaySource = _ImageUriCache.default.has(uri);\n\n    _this.state = {\n      layout: {},\n      shouldDisplaySource: shouldDisplaySource\n    };\n    _this._imageState = getImageState(uri, shouldDisplaySource);\n    _this._filterId = filterId;\n    filterId++;\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this._isMounted = true;\n\n    if (this._imageState === STATUS_PENDING) {\n      this._createImageLoader();\n    } else if (this._imageState === STATUS_LOADED) {\n      this._onLoad({\n        target: this._imageRef\n      });\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var prevUri = resolveAssetUri(prevProps.source);\n    var uri = resolveAssetUri(this.props.source);\n    var hasDefaultSource = this.props.defaultSource != null;\n\n    if (prevUri !== uri) {\n      _ImageUriCache.default.remove(prevUri);\n\n      var isPreviouslyLoaded = _ImageUriCache.default.has(uri);\n\n      isPreviouslyLoaded && _ImageUriCache.default.add(uri);\n\n      this._updateImageState(getImageState(uri, isPreviouslyLoaded), hasDefaultSource);\n    } else if (hasDefaultSource && prevProps.defaultSource !== this.props.defaultSource) {\n      this._updateImageState(this._imageState, hasDefaultSource);\n    }\n\n    if (this._imageState === STATUS_PENDING) {\n      this._createImageLoader();\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var uri = resolveAssetUri(this.props.source);\n\n    _ImageUriCache.default.remove(uri);\n\n    this._destroyImageLoader();\n\n    this._isMounted = false;\n  };\n\n  _proto.render = function render() {\n    var shouldDisplaySource = this.state.shouldDisplaySource;\n\n    var _this$props3 = this.props,\n        accessibilityLabel = _this$props3.accessibilityLabel,\n        accessible = _this$props3.accessible,\n        blurRadius = _this$props3.blurRadius,\n        defaultSource = _this$props3.defaultSource,\n        draggable = _this$props3.draggable,\n        source = _this$props3.source,\n        testID = _this$props3.testID,\n        capInsets = _this$props3.capInsets,\n        onError = _this$props3.onError,\n        onLayout = _this$props3.onLayout,\n        onLoad = _this$props3.onLoad,\n        onLoadEnd = _this$props3.onLoadEnd,\n        onLoadStart = _this$props3.onLoadStart,\n        resizeMethod = _this$props3.resizeMethod,\n        resizeMode = _this$props3.resizeMode,\n        other = _objectWithoutPropertiesLoose(_this$props3, [\"accessibilityLabel\", \"accessible\", \"blurRadius\", \"defaultSource\", \"draggable\", \"source\", \"testID\", \"capInsets\", \"onError\", \"onLayout\", \"onLoad\", \"onLoadEnd\", \"onLoadStart\", \"resizeMethod\", \"resizeMode\"]);\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.props.src) {\n        console.warn('The <Image> component requires a `source` property rather than `src`.');\n      }\n\n      if (this.props.children) {\n        throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');\n      }\n    }\n\n    var selectedSource = shouldDisplaySource ? source : defaultSource;\n    var displayImageUri = resolveAssetUri(selectedSource);\n    var imageSizeStyle = resolveAssetDimensions(selectedSource);\n    var backgroundImage = displayImageUri ? \"url(\\\"\" + displayImageUri + \"\\\")\" : null;\n\n    var flatStyle = _objectSpread({}, _StyleSheet.default.flatten(this.props.style));\n\n    var finalResizeMode = resizeMode || flatStyle.resizeMode || _ImageResizeMode.default.cover; // CSS filters\n\n    var filters = [];\n    var tintColor = flatStyle.tintColor;\n\n    if (flatStyle.filter) {\n      filters.push(flatStyle.filter);\n    }\n\n    if (blurRadius) {\n      filters.push(\"blur(\" + blurRadius + \"px)\");\n    }\n\n    if (flatStyle.shadowOffset) {\n      var shadowString = (0, _resolveShadowValue.default)(flatStyle);\n\n      if (shadowString) {\n        filters.push(\"drop-shadow(\" + shadowString + \")\");\n      }\n    }\n\n    if (flatStyle.tintColor) {\n      filters.push(\"url(#tint-\" + this._filterId + \")\");\n    } // these styles were converted to filters\n\n\n    delete flatStyle.shadowColor;\n    delete flatStyle.shadowOpacity;\n    delete flatStyle.shadowOffset;\n    delete flatStyle.shadowRadius;\n    delete flatStyle.tintColor; // these styles are not supported on View\n\n    delete flatStyle.overlayColor;\n    delete flatStyle.resizeMode; // Accessibility image allows users to trigger the browser's image context menu\n\n    var hiddenImage = displayImageUri ? (0, _createElement.default)('img', {\n      alt: accessibilityLabel || '',\n      classList: [classes.accessibilityImage],\n      draggable: draggable || false,\n      ref: this._setImageRef,\n      src: displayImageUri\n    }) : null;\n    return _react.default.createElement(_View.default, _extends({}, other, {\n      accessibilityLabel: accessibilityLabel,\n      accessible: accessible,\n      onLayout: this._createLayoutHandler(finalResizeMode),\n      style: [styles.root, this.context.isInAParentText && styles.inline, imageSizeStyle, flatStyle],\n      testID: testID\n    }), _react.default.createElement(_View.default, {\n      style: [styles.image, resizeModeStyles[finalResizeMode], this._getBackgroundSize(finalResizeMode), backgroundImage && {\n        backgroundImage: backgroundImage\n      }, filters.length > 0 && {\n        filter: filters.join(' ')\n      }]\n    }), hiddenImage, createTintColorSVG(tintColor, this._filterId));\n  };\n\n  _proto._createImageLoader = function _createImageLoader() {\n    var source = this.props.source;\n\n    this._destroyImageLoader();\n\n    var uri = resolveAssetUri(source);\n    this._imageRequestId = _ImageLoader.default.load(uri, this._onLoad, this._onError);\n\n    this._onLoadStart();\n  };\n\n  _proto._destroyImageLoader = function _destroyImageLoader() {\n    if (this._imageRequestId) {\n      _ImageLoader.default.abort(this._imageRequestId);\n\n      this._imageRequestId = null;\n    }\n  };\n\n  _proto._onLoadEnd = function _onLoadEnd() {\n    var onLoadEnd = this.props.onLoadEnd;\n\n    if (onLoadEnd) {\n      onLoadEnd();\n    }\n  };\n\n  _proto._onLoadStart = function _onLoadStart() {\n    var _this$props4 = this.props,\n        defaultSource = _this$props4.defaultSource,\n        onLoadStart = _this$props4.onLoadStart;\n\n    this._updateImageState(STATUS_LOADING, defaultSource != null);\n\n    if (onLoadStart) {\n      onLoadStart();\n    }\n  };\n\n  _proto._updateImageState = function _updateImageState(status, hasDefaultSource) {\n    if (hasDefaultSource === void 0) {\n      hasDefaultSource = false;\n    }\n\n    this._imageState = status;\n    var shouldDisplaySource = this._imageState === STATUS_LOADED || this._imageState === STATUS_LOADING && !hasDefaultSource; // only triggers a re-render when the image is loading and has no default image (to support PJPEG), loaded, or failed\n\n    if (shouldDisplaySource !== this.state.shouldDisplaySource) {\n      if (this._isMounted) {\n        this.setState(function () {\n          return {\n            shouldDisplaySource: shouldDisplaySource\n          };\n        });\n      }\n    }\n  };\n\n  return Image;\n}(_react.Component);\n\nImage.displayName = 'Image';\nImage.contextTypes = {\n  isInAParentText: _propTypes.bool\n};\nImage.defaultProps = {\n  style: emptyObject\n};\nImage.propTypes = process.env.NODE_ENV !== \"production\" ? _objectSpread({}, _ViewPropTypes.default, {\n  blurRadius: _propTypes.number,\n  defaultSource: _ImageSourcePropType.default,\n  draggable: _propTypes.bool,\n  onError: _propTypes.func,\n  onLayout: _propTypes.func,\n  onLoad: _propTypes.func,\n  onLoadEnd: _propTypes.func,\n  onLoadStart: _propTypes.func,\n  resizeMode: (0, _propTypes.oneOf)(Object.keys(_ImageResizeMode.default)),\n  source: _ImageSourcePropType.default,\n  style: (0, _StyleSheetPropType.default)(_ImageStylePropTypes.default),\n  // compatibility with React Native\n\n  /* eslint-disable react/sort-prop-types */\n  capInsets: (0, _propTypes.shape)({\n    top: _propTypes.number,\n    left: _propTypes.number,\n    bottom: _propTypes.number,\n    right: _propTypes.number\n  }),\n  resizeMethod: (0, _propTypes.oneOf)(['auto', 'resize', 'scale'])\n  /* eslint-enable react/sort-prop-types */\n\n}) : {};\n\nvar classes = _css.default.create({\n  accessibilityImage: _objectSpread({}, _StyleSheet.default.absoluteFillObject, {\n    height: '100%',\n    opacity: 0,\n    width: '100%',\n    zIndex: -1\n  })\n});\n\nvar styles = _StyleSheet.default.create({\n  root: {\n    flexBasis: 'auto',\n    overflow: 'hidden',\n    zIndex: 0\n  },\n  inline: {\n    display: 'inline-flex'\n  },\n  image: _objectSpread({}, _StyleSheet.default.absoluteFillObject, {\n    backgroundColor: 'transparent',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundSize: 'cover',\n    height: '100%',\n    width: '100%',\n    zIndex: -1\n  })\n});\n\nvar resizeModeStyles = _StyleSheet.default.create({\n  center: {\n    backgroundSize: 'auto'\n  },\n  contain: {\n    backgroundSize: 'contain'\n  },\n  cover: {\n    backgroundSize: 'cover'\n  },\n  none: {\n    backgroundPosition: '0 0',\n    backgroundSize: 'auto'\n  },\n  repeat: {\n    backgroundPosition: '0 0',\n    backgroundRepeat: 'repeat',\n    backgroundSize: 'auto'\n  },\n  stretch: {\n    backgroundSize: '100% 100%'\n  }\n});\n\nvar _default = (0, _applyNativeMethods.default)(Image);\n\nexports.default = _default;\nmodule.exports = exports.default;"]}]}